/*!
 * RouterJS v0.0.0
 * Copyright 2014 Travis McKinney (braznaavtrav)
 * Licensed under MIT (https://github.com/braznaavtrav/RouterJS/blob/master/LICENSE)
 */
!function(a){"use strict";var b=function(a,b){"object"==typeof a&&this.addRoute(a),"object"==typeof b&&this.configure(b)};b.prototype=function(){function b(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function c(a,b){return a.replace(b,"")}function d(a){return"/"===a.substr(a.length-1)&&1!==a.length&&(a=a.slice(0,-1)),a=a.split("/")}function e(a,b){var c,d=[];for(c=a.length-1;c>=0;c-=1){if(b[c]!==a[c]&&":"!==a[c].charAt(0))return!1;":"===a[c].charAt(0)&&d.push(b[c])}return{wildcards:d}}function f(a){return a!==b}function g(a,b){var c,g,h,i=d(b);for(c in a)a.hasOwnProperty(c)&&f(a[c])&&(g=c.split("/"),h=e(g,i),h&&i.length===g.length&&("function"==typeof a[c]?a[c].apply(a[c],h.wildcards):l.scope[a[c]].apply(l.scope,h.wildcards)))}function h(){j!==a.location.pathname&&(j=a.location.pathname,g(k,j))}var i,j,k={add:b},l={add:b,root:"",scope:a,pollIntveral:50},m=function(){return"object"==typeof arguments[0]?l.add(arguments[0]):void("string"==typeof arguments[0]&&(l[arguments[0]]=arguments[1]))},n=function(a){var b={};"object"==typeof a?b=a:"string"==typeof a&&arguments[1]&&(b[arguments[0]]=arguments[1]),k.add(b)},o=function(b){j=a.location.pathname,i=a.setInterval(h,l.pollIntveral);var d,e=void 0!==b?b:!0;e&&(d=c(a.location.pathname,l.root),g(k,d))},p=function(){a.clearInterval(i)},q=function(b,c){var d=void 0!==c.replace?c.replace:!1;p(),d?a.History?a.History.replaceState({},"",b):a.history.replaceState({},"",b):a.History?a.History.pushState({},"",b):a.history.pushState({},"",b),o(!1)};return{configure:m,addRoute:n,start:o,stop:p,route:q}}(),a.Router=b}(window);