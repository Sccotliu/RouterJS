/*!
 * RouterJS v0.0.0
 * Copyright 2014 Travis McKinney (braznaavtrav)
 * Licensed under MIT (https://github.com/braznaavtrav/RouterJS/blob/master/LICENSE)
 */
!function(a){"use strict";var b=function(a,b){"object"==typeof a&&this.addRoute(a),"object"==typeof b&&this.configure(b)};b.prototype=function(){function b(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function c(a,b){return a.replace(b,"")}function d(a){return"/"===a.substr(a.length-1)&&1!==a.length&&(a=a.slice(0,-1)),a=a.split("/")}function e(a,b){var c,d=[];for(c=a.length-1;c>=0;c-=1){if(b[c]!==a[c]&&":"!==a[c].charAt(0))return!1;":"===a[c].charAt(0)&&d.push(b[c])}return{wildcards:d}}function f(a){return a!==b}function g(a,b){var c,g,h,i=d(b);for(c in a)a.hasOwnProperty(c)&&f(a[c])&&(g=c.split("/"),h=e(g,i),h&&i.length===g.length&&("function"==typeof a[c]?a[c].apply(a[c],h.wildcards):j.scope[a[c]].apply(j.scope,h.wildcards)))}function h(){var a=c(j.window.location.pathname,j.root);g(i,a)}var i={add:b},j={add:b,root:"",scope:a,pollIntveral:50,window:a},k={hasHistoryJS:!!j.window.History,hasHistoryAPI:!!j.window.history},l=function(){return"object"==typeof arguments[0]?j.add(arguments[0]):void("string"==typeof arguments[0]&&(j[arguments[0]]=arguments[1]))},m=function(a){var b={};"object"==typeof a?b=a:"string"==typeof a&&arguments[1]&&(b[arguments[0]]=arguments[1]),i.add(b)},n=function(b){k.hasHistoryJS?j.window.History.Adapter.bind(a,"statechange",h):k.hasHistoryAPI&&j.window.addEventListener("popstate",h);var d,e=void 0!==b?b:!0;e&&(d=c(j.window.location.pathname,j.root),g(i,d))},o=function(){k.hasHistoryJS?j.window.History.Adapter.bind(j.window,"statechange",h):j.window.removeEventListener("popstate",h)},p=function(a,b){var c=void 0!==b.replace?b.replace:!1;o(),c?k.hasHistoryJS?j.window.History.replaceState({},"",a):j.window.history.replaceState({},"",a):k.hasHistoryJS?j.window.History.pushState({},"",a):j.window.history.pushState({},"",a),n(!1)};return{configure:l,addRoute:m,start:n,stop:o,route:p}}(),a.Router=b}(window);