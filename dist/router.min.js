/*!
 * RouterJS v0.0.0
 * Copyright 2014 Travis McKinney (braznaavtrav)
 * Licensed under MIT (https://github.com/braznaavtrav/RouterJS/blob/master/LICENSE)
 */
!function(a){"use strict";var b=function(a,b){"object"==typeof a&&this.addRoute(a),"object"==typeof b&&this.configure(b)};b.prototype=function(){function b(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}function c(a,b){return a.replace(b,"")}function d(a){return"/"===a.substr(a.length-1)&&1!==a.length&&(a=a.slice(0,-1)),a=a.split("/")}function e(a,b){var c,d=[];for(c=a.length-1;c>=0;c-=1){if(b[c]!==a[c]&&":"!==a[c].charAt(0))return!1;":"===a[c].charAt(0)&&d.push(b[c])}return{wildcards:d}}function f(a){return a!==b}function g(a,b){var c,g,h,i=d(b);for(c in a)a.hasOwnProperty(c)&&f(a[c])&&(g=c.split("/"),h=e(g,i),h&&i.length===g.length&&("function"==typeof a[c]?a[c].apply(a[c],h.wildcards):m.scope[a[c]].apply(m.scope,h.wildcards)))}function h(){var a=c(m.window.location.pathname,m.root);g(l,a)}function i(){k!==m.window.location.pathname&&(h(),k=m.window.location.pathname)}var j,k,l={add:b},m={add:b,root:"",scope:a,pollIntveral:50,window:a},n={hasHistoryJS:"object"==typeof m.window.History,hasHistoryAPI:"object"==typeof m.window.history},o=function(){return"object"==typeof arguments[0]?m.add(arguments[0]):void("string"==typeof arguments[0]&&(m[arguments[0]]=arguments[1]))},p=function(a){var b={};"object"==typeof a?b=a:"string"==typeof a&&arguments[1]&&(b[arguments[0]]=arguments[1]),l.add(b)},q=function(b){n.hasHistoryJS?m.window.History.Adapter.bind(a,"statechange",h):(k=m.window.location.pathname,j=m.window.setInterval(i,m.pollIntveral));var d,e=void 0!==b?b:!0;e&&(d=c(m.window.location.pathname,m.root),g(l,d))},r=function(){n.hasHistoryJS?m.window.History.Adapter.bind(m.window,"statechange",null):m.window.clearInterval(j)},s=function(a,b){var c=b||{},d=void 0!==c.replace?c.replace:!1;r(),d?n.hasHistoryJS?m.window.History.replaceState({},"",a):m.window.history.replaceState({},"",a):n.hasHistoryJS?m.window.History.pushState({},"",a):m.window.history.pushState({},"",a),q(!1)};return{configure:o,addRoute:p,start:q,stop:r,route:s}}(),a.Router=b}(window);